<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>MÃ©tricas 2025 â€“ MaipÃº Municipio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="shortcut icon" href="img/logo.png" type="image/x-icon">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    :root{
      --azul:#004b7f; 
      --azul-2:#006aa3; 
      --gris-fondo:#f5f7fa; 
      --card:#ffffff; 
      --borde:#e0e6ed;
      --verde:#1a7f37; 
      --verde-suave:#e1f3e7; 
      --amarillo:#bf8f00; 
      --amarillo-suave:#fff8e1;
      --texto:#111;
      --zoom:.90;
    }
    *{box-sizing:border-box}
    body{
      margin:0;background:var(--gris-fondo);color:var(--texto);
      font:14.5px/1.45 "Inter",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial
    }
    .container{max-width:1200px;margin:auto;padding:22px 16px 40px}

    /* Header + nav */
    header{
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:16px;
      flex-wrap:wrap
    }
    header img{height:48px}
    header h1{
      margin:0;
      color:var(--azul);
      font-size:26px;
      font-weight:800;
      line-height:1.15
    }
    .nav{
      margin-left:auto;
      display:flex;
      gap:8px;
      flex-wrap:wrap
    }
    .btn{
      padding:8px 12px;
      border:1px solid var(--azul-2);
      background:#fff;
      color:var(--azul-2);
      border-radius:10px;
      text-decoration:none;
      font-weight:700
    }
    .btn:hover{background:var(--azul-2);color:#fff}
    .btn.active{background:var(--azul-2);color:#fff;pointer-events:none;opacity:.92}

    /* Secciones */
    section{margin-top:28px}
    section h2{
      margin:0 0 14px;color:var(--azul);font-size:20px;font-weight:700;
      border-bottom:2px solid var(--azul-2);padding-bottom:6px
    }
    .section-subtitle{
      margin:4px 0 14px;
      font-size:13px;
      color:#555;
      max-width:720px;
    }

    /* Charts */
    .charts{
      display:grid;gap:20px;
      grid-template-columns:repeat(2,minmax(280px,1fr));
    }
    .card{
      background:var(--card);border:1px solid var(--borde);border-radius:12px;
      padding:14px 14px 10px;box-shadow:0 1px 3px rgba(0,0,0,.06)
    }
    .card h3{margin:0 0 10px;text-align:center;color:var(--azul);font-size:16px}
    .card canvas{width:100%!important;height:340px!important}

    /* Tabla */
    .table-wrap{
      background:var(--card);border:1px solid var(--borde);border-radius:12px;
      padding:12px;box-shadow:0 1px 3px rgba(0,0,0,.06);overflow:auto
    }
    table{width:100%;border-collapse:collapse;min-width:720px}
    thead th{
      background:var(--azul-2);color:#fff;border:1px solid var(--azul-2);
      padding:8px 6px;font-weight:700;text-align:center;position:sticky;top:0
    }
    tbody td,tbody th{border:1px solid var(--borde);padding:8px 6px}
    tbody td{text-align:right}
    tbody tr:nth-child(odd){background:#fafcff}
    tbody tr:hover{background:#f2f6fb}
    tbody th{
      text-align:left;background:#f0f4f8;color:var(--azul);font-weight:700;
      display:flex;align-items:center;gap:8px
    }
    .fb-head{background:var(--verde-suave)!important;color:var(--verde)!important}
    .ig-head{background:var(--amarillo-suave)!important;color:var(--amarillo)!important}

    .icon{width:18px;height:18px;vertical-align:-3px}
    .ig{color:#E1306C}.fb{color:#1877F2}

    /* === SecciÃ³n eventos destacdos === */
    #eventos-redes{
      margin-top:32px;
      padding:18px 14px 22px;
      border-radius:18px;
      background:linear-gradient(
        180deg,
        rgba(0,75,127,0.08),
        rgba(0,106,163,0.02)
      );
      border:1px solid rgba(0,75,127,0.12);
    }

    .highlight-subtitle{
      margin:18px 0 8px;
      padding:6px 12px;
      font-size:15px;
      color:var(--azul);
      display:flex;
      align-items:center;
      gap:8px;
      border-radius:999px;
      background:linear-gradient(
        90deg,
        rgba(0,75,127,0.16),
        rgba(0,106,163,0.05)
      );
      font-weight:600;
    }
    .network-tag{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.06em;
      padding:3px 9px;
      border-radius:999px;
      border:1px solid var(--borde);
      background:#fff;
      display:inline-flex;
      align-items:center;
      gap:4px;
      white-space:nowrap;
    }
    .tag-icon{
      width:14px;
      height:14px;
      vertical-align:-2px;
    }
    .fb-tag{
      border-color:rgba(24,119,242,.4);
      color:#1877F2;
      background:rgba(24,119,242,.06);
    }
    .ig-tag{
      border-color:rgba(225,48,108,.4);
      color:#E1306C;
      background:rgba(225,48,108,.08);
    }

    .carousel-wrapper{
      position:relative;
      margin-top:6px;
    }
    .carousel-viewport{
      border-radius:16px;
      overflow:hidden;
      background:var(--card);
      box-shadow:0 2px 10px rgba(0,0,0,.12);
    }
    .carousel-slide{
      display:none;
    }
    .carousel-slide.active{
      display:block;
    }
    .carousel-slide-inner{
      display:flex;
      flex-wrap:wrap;
    }
    .carousel-img-box{
      flex:1 1 55%;
      position:relative;
      overflow:hidden;
      background:#000;
    }
    .carousel-img-box img{
      width:100%;
      height:auto;
      display:block;
      cursor:zoom-in;
      transition:transform .25s ease, filter .25s ease;
    }
    .carousel-slide.active .carousel-img-box img{
      transform:scale(1.01);
    }
    .highlight-month-pill{
      position:absolute;
      top:12px;
      left:12px;
      background:rgba(0,75,127,.96);
      color:#fff;
      padding:4px 10px;
      border-radius:999px;
      font-size:11px;
      font-weight:700;
      letter-spacing:.06em;
    }

    .carousel-body{
      flex:1 1 45%;
      padding:18px 20px 18px;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:10px;
    }
    .carousel-body.fb-body{
      background:linear-gradient(135deg, rgba(0,75,127,0.06), rgba(24,119,242,0.03));
      border-left:3px solid rgba(24,119,242,0.4);
    }
    .carousel-body.ig-body{
      background:linear-gradient(135deg, rgba(225,48,108,0.05), rgba(255,214,224,0.03));
      border-left:3px solid rgba(225,48,108,0.4);
    }

    .carousel-meta{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.06em;
      color:#555;
    }
    .meta-chip{
      padding:3px 8px;
      border-radius:999px;
      background:rgba(255,255,255,0.9);
      border:1px solid rgba(0,0,0,0.06);
    }

    .carousel-body h4{
      margin:0;
      font-size:15px;
      color:var(--azul-2);
      font-weight:700;
    }
    .carousel-body p{
      margin:0;
      font-size:13.5px;
      color:#333;
      line-height:1.5;
    }

    .carousel-arrow{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      width:32px;height:32px;
      border-radius:999px;
      border:1px solid rgba(0,0,0,.16);
      background:rgba(255,255,255,0.9);
      box-shadow:0 2px 6px rgba(0,0,0,0.16);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:18px;
      cursor:pointer;
      color:var(--azul-2);
      backdrop-filter:blur(4px);
    }
    .carousel-arrow:hover{
      background:#fff;
    }
    .carousel-arrow.prev{left:10px}
    .carousel-arrow.next{right:10px}

    .carousel-dots{
      display:flex;
      gap:6px;
      margin-top:8px;
      justify-content:center;
      flex-wrap:wrap;
    }
    .carousel-dot{
      width:10px;height:10px;
      border-radius:999px;
      border:1px solid var(--borde);
      background:#fff;
      cursor:pointer;
      transition:all .18s ease;
    }
    .carousel-dot.active{
      background:var(--azul-2);
      border-color:var(--azul-2);
      width:16px;
    }

    /* LIGHTBOX para ver imagen grande */
    .lightbox{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      z-index:999;
    }
    .lightbox.active{
      display:flex;
    }
    .lightbox-backdrop{
      position:absolute;
      inset:0;
      background:rgba(0,0,0,0.7);
    }
    .lightbox-content{
      position:relative;
      max-width:90vw;
      max-height:90vh;
      margin:0;
      background:#000;
      border-radius:12px;
      overflow:hidden;
      box-shadow:0 10px 30px rgba(0,0,0,0.7);
      z-index:1;
      display:flex;
      flex-direction:column;
    }
    .lightbox-content img{
      display:block;
      max-width:90vw;
      max-height:82vh;
      width:auto;
      height:auto;
      object-fit:contain;
      margin:0 auto;
    }
    .lightbox-caption{
      padding:8px 12px;
      font-size:12px;
      color:#f3f3f3;
      background:rgba(0,0,0,0.9);
    }
    .lightbox-close{
      position:absolute;
      top:6px;
      right:8px;
      width:28px;height:28px;
      border-radius:999px;
      border:none;
      background:rgba(0,0,0,0.6);
      color:#fff;
      font-size:18px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .lightbox-close:hover{
      background:rgba(0,0,0,0.85);
    }

    /* BREAKPOINTS */
    @media (max-width:1024px){
      header img{height:48px}
      header h1{font-size:24px}
      .card canvas{height:320px!important}
    }
    @media (max-width:860px){
      .charts{grid-template-columns:1fr}
      .nav{margin-left:0}
      header{align-items:flex-start}
      .btn{font-size:14px;padding:7px 10px}
    }
    @media (max-width:768px){
      /* Header centrado en modo celular, igual que reclamos/CRM */
      header{
        flex-direction:column;
        align-items:center;
        text-align:center;
      }
      header img{
        height:56px;
      }
      header h1{
        font-size:20px;
      }
      .nav{
        width:100%;
        margin-left:0;
        justify-content:center;
      }

      .carousel-slide-inner{
        flex-direction:column;
      }
      .carousel-img-box{
        flex-basis:100%;
      }
      .carousel-body{
        padding:14px 14px 16px;
      }
      .carousel-arrow{
        top:45%;
      }
    }
    @media (max-width:640px){
      .carousel-arrow{
        top:auto;
        bottom:10px;
        transform:none;
      }
      .carousel-arrow.prev{left:10px}
      .carousel-arrow.next{right:10px}
      #eventos-redes{
        padding:14px 10px 18px;
      }
    }
    @media (max-width:520px){
      header h1{font-size:20px}
      header img{height:50px;}
      .card canvas{height:300px!important}
    }

    /* Forzar escala global al 90% */
    html { zoom: var(--zoom); }
    @supports not (zoom: 1) {
      html, body { overflow-x: hidden; }
      body {
        transform: scale(var(--zoom));
        transform-origin: top left;
        width: calc(100% / var(--zoom));
      }
    }
    .card canvas { height: 300px !important; }
    
  </style>
</head>
<body>
  <!-- Ãconos reutilizables -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="icon-fb" viewBox="0 0 24 24">
      <path fill="currentColor" d="M22 12.06C22 6.503 17.523 2 12 2S2 6.503 2 12.06c0 5.016 3.657 9.173 8.438 9.94v-7.03H7.898v-2.91h2.54V9.845c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.47h-1.26c-1.242 0-1.63.773-1.63 1.565v1.873h2.773l-.444 2.91h-2.33v7.03C18.343 21.233 22 17.076 22 12.06z"/>
    </symbol>
    <symbol id="icon-ig" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 2.2c3.2 0 3.584.012 4.85.07 1.17.055 1.95.24 2.4.4.6.22 1.03.48 1.48.93.45.45.71.89.93 1.48.16.45.34 1.23.4 2.4.06 1.27.07 1.65.07 4.85s-.01 3.58-.07 4.85c-.06 1.17-.24 1.95-.4 2.4-.22.59-.48 1.03-.93 1.48-.45.45-.89.71-1.48.93-.45.16-1.23.34-2.4.4-1.27.06-1.65.07-4.85.07s-3.58-.01-4.85-.07c-1.17-.06-1.95-.24-2.4-.4-.59-.22-1.03-.48-1.48-.93-.45-.45-.71-.89-.93-1.48-.16-.45-.34-1.23-.4-2.4C2.21 15.58 2.2 15.2 2.2 12s.01-3.58.07-4.85c.06-1.17.24-1.95.4-2.4.22-.59.48-1.03.93-1.48.45-.45.89-.71 1.48-.93.45-.16 1.23-.34 2.4-.4C8.42 2.21 8.8 2.2 12 2.2m0-1.7Z"/>
      <circle fill="currentColor" cx="12" cy="12" r="3.2"/>
      <circle fill="currentColor" cx="17.4" cy="6.6" r="1.2"/>
    </symbol>
  </svg>

  <div class="container">
    <header>
      <img src="img/logo.png" alt="Logo MaipÃº" />
      <h1>MÃ©tricas 2025 â€“ MaipÃº Municipio</h1>
      <nav class="nav">
        <a class="btn active" href="index.html">MaipÃº</a>
        <a class="btn" href="matias.html">MatÃ­as</a>
        <a class="btn" href="reclamos.html">Reclamos</a>
        <a class="btn" href="crm.html">CRM</a>
      </nav>
    </header>

    <section>
      <h2>EvoluciÃ³n mensual de Redes Sociales.</h2>
      <div class="charts">
        <div class="card"><h3>Facebook</h3><canvas id="fbLine"></canvas></div>
        <div class="card"><h3>Instagram</h3><canvas id="igLine"></canvas></div>
      </div>
    </section>

    <section>
      <h2>MÃ©tricas mensuales â€“ MaipÃº Municipio</h2>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>Concepto</th>
              <th>ENE</th><th>FEB</th><th>MAR</th><th>ABR</th><th>MAY</th><th>JUN</th>
              <th>JUL</th><th>AGO</th><th>SEP</th><th>OCT</th><th>NOV</th><th>DIC</th>
            </tr>
          </thead>
          <tbody >
            <tr><th class="fb-head"><svg class="icon fb"><use href="#icon-fb"/></svg> Facebook â€“ Alcances</th>
              <td>108 200</td><td>71 100</td><td>110 600</td><td>49 000</td><td>36 982</td><td>98 696</td><td>335 432</td><td>245 200</td><td>256 800</td><td>137 200</td><td>0</td><td>0</td></tr>
            <tr><th><svg class="icon fb"><use href="#icon-fb"/></svg> Facebook â€“ Visualizaciones</th>
              <td>718 100</td><td>384 600</td><td>456 900</td><td>183 700</td><td>103 695</td><td>404 872</td><td>1 314 098</td><td>1 900 000</td><td>1 800 000</td><td>1 100 000</td><td>0</td><td>0</td></tr>
            <tr><th><svg class="icon fb"><use href="#icon-fb"/></svg> Facebook â€“ Seguidores</th>
              <td>727</td><td>379</td><td>246</td><td>207</td><td>177</td><td>148</td><td>312</td><td>293</td><td>707</td><td>371</td><td>0</td><td>0</td></tr>
            <tr><th><svg class="icon fb"><use href="#icon-fb"/></svg> Facebook â€“ Visitas</th>
              <td>55 600</td><td>41 600</td><td>20 700</td><td>15 100</td><td>12 543</td><td>9 797</td><td>15 251</td><td>20 900</td><td>35 100</td><td>16 600</td><td>0</td><td>0</td></tr>
            <tr><th><svg class="icon fb"><use href="#icon-fb"/></svg> Facebook â€“ Mensajes</th>
              <td>190</td><td>177</td><td>114</td><td>111</td><td>99</td><td>57</td><td>42</td><td>106</td><td>154</td><td>133</td><td>0</td><td>0</td></tr>

            <tr><th class="ig-head"><svg class="icon ig"><use href="#icon-ig"/></svg> Instagram â€“ Alcances</th>
              <td>77 600</td><td>52 300</td><td>53 500</td><td>29 900</td><td>41 468</td><td>151 793</td><td>240 657</td><td>278 400</td><td>198 300</td><td>170 000</td><td>0</td><td>0</td></tr>
            <tr><th><svg class="icon ig"><use href="#icon-ig"/></svg> Instagram â€“ Visualizaciones</th>
              <td>865 900</td><td>732 100</td><td>617 800</td><td>290 500</td><td>368 334</td><td>499 657</td><td>827 457</td><td>1 400 000</td><td>1 700 000</td><td>827 800</td><td>0</td><td>0</td></tr>
            <tr><th><svg class="icon ig"><use href="#icon-ig"/></svg> Instagram â€“ Seguidores</th>
              <td>3 200</td><td>2 300</td><td>874</td><td>571</td><td>741</td><td>871</td><td>1 070</td><td>1 200</td><td>1 500</td><td>731</td><td>0</td><td>0</td></tr>
            <tr><th><svg class="icon ig"><use href="#icon-ig"/></svg> Instagram â€“ Visitas</th>
              <td>29 900</td><td>35 500</td><td>10 300</td><td>5 300</td><td>6 826</td><td>5 614</td><td>7 502</td><td>9 800</td><td>19 800</td><td>7 200</td><td>0</td><td>0</td></tr>
            <tr><th><svg class="icon ig"><use href="#icon-ig"/></svg> Instagram â€“ Mensajes</th>
              <td>719</td><td>862</td><td>497</td><td>366</td><td>505</td><td>342</td><td>354</td><td>470</td><td>651</td><td>396</td><td>0</td><td>0</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- SECCIÃ“N: Carrusel de eventos por red -->
    <section id="eventos-redes">
      <h2>Eventos destacados 2025</h2>
      <p class="section-subtitle">
        Hitos principales de comunicaciÃ³n del aÃ±o, con imagen destacada y descripciÃ³n por red social.
      </p>

      <h3 class="highlight-subtitle">
        Facebook
        <span class="network-tag fb-tag">
          <svg class="tag-icon fb"><use href="#icon-fb"/></svg>
          Eventos destacados
        </span>
      </h3>
      <div id="carousel-facebook" class="carousel-wrapper">
        <button class="carousel-arrow prev" type="button" aria-label="Anterior">&#10094;</button>
        <div class="carousel-viewport"></div>
        <button class="carousel-arrow next" type="button" aria-label="Siguiente">&#10095;</button>
      </div>
      <div id="dots-facebook" class="carousel-dots"></div>

      <h3 class="highlight-subtitle">
        Instagram
        <span class="network-tag ig-tag">
          <svg class="tag-icon ig"><use href="#icon-ig"/></svg>
          Eventos destacados
        </span>
      </h3>
      <div id="carousel-instagram" class="carousel-wrapper">
        <button class="carousel-arrow prev" type="button" aria-label="Anterior">&#10094;</button>
        <div class="carousel-viewport"></div>
        <button class="carousel-arrow next" type="button" aria-label="Siguiente">&#10095;</button>
      </div>
      <div id="dots-instagram" class="carousel-dots"></div>
    </section>
  </div>

  <!-- LIGHTBOX para ver las imÃ¡genes en grande -->
  <div id="lightbox" class="lightbox" aria-hidden="true">
    <div class="lightbox-backdrop"></div>
    <figure class="lightbox-content">
      <button type="button" class="lightbox-close" aria-label="Cerrar">&times;</button>
      <img id="lightbox-img" src="" alt="">
      <figcaption id="lightbox-caption" class="lightbox-caption"></figcaption>
    </figure>
  </div>

  <script>
    /* Ajustes Chart.js */
    Chart.defaults.color = '#111';
    Chart.defaults.font.size = 12;
    Chart.defaults.plugins.legend.labels.color = '#111';
    Chart.defaults.plugins.legend.labels.boxWidth = 10;
    Chart.defaults.plugins.legend.labels.boxHeight = 10;
    Chart.defaults.plugins.legend.labels.usePointStyle = true;
    Chart.defaults.elements.point.pointStyle = 'rect';
    Chart.defaults.elements.point.radius = 3;

    const meses=['ENE','FEB','MAR','ABR','MAY','JUN','JUL','AGO','SEP','OCT','NOV','DIC'];

    const fb={
      Alcances:[108200,71100,110600,49000,36982,98696,335432,245200,256800,137200,0,0],
      Visualizaciones:[718100,384600,456900,183700,103695,404872,1314098,1900000,1800000,1100000,0,0],
      Seguidores:[727,379,246,207,177,148,312,293,707,371,0,0],
      Visitas:[55600,41600,20700,15100,12543,9797,15251,20900,35100,16600,0,0],
      Mensajes:[190,177,114,111,99,57,42,106,154,133,0,0]
    };
    const fbColors={
      Alcances:'rgba(56,142,60,.9)',
      Visualizaciones:'rgba(25,118,210,.9)',
      Seguidores:'rgba(251,192,45,.9)',
      Visitas:'rgba(239,108,0,.9)',
      Mensajes:'rgba(142,36,170,.9)'
    };
    const fbSets=Object.keys(fb).map(k=>({
      label:k,data:fb[k],
      borderColor:fbColors[k],backgroundColor:fbColors[k],
      fill:false,tension:.25,pointRadius:3,pointStyle:'rect'
    }));

    const ig={
      Alcances:[77600,52300,53500,29900,41468,151793,240657,278400,198300,170000,0,0],
      Visualizaciones:[865900,732100,617800,290500,368334,499657,827457,1400000,1700000,827800,0,0],
      Seguidores:[3200,2300,874,571,741,871,1070,1200,1500,731,0,0],
      Visitas:[29900,35500,10300,5300,6826,5614,7502,9800,19800,7200,0,0],
      Mensajes:[719,862,497,366,505,342,354,470,651,396,0,0]
    };
    const igColors={
      Alcances:'rgba(255,202,40,.9)',
      Visualizaciones:'rgba(13,71,161,.9)',
      Seguidores:'rgba(0,150,136,.9)',
      Visitas:'rgba(255,143,0,.9)',
      Mensajes:'rgba(216,27,96,.9)'
    };
    const igSets=Object.keys(ig).map(k=>({
      label:k,data:ig[k],
      borderColor:igColors[k],backgroundColor:igColors[k],
      fill:false,tension:.25,pointRadius:3,pointStyle:'rect'
    }));

    new Chart(document.getElementById('fbLine'),{
      type:'line',
      data:{labels:meses,datasets:fbSets},
      options:{
        responsive:true,maintainAspectRatio:false,
        plugins:{legend:{position:'top'}},
        scales:{y:{beginAtZero:true,ticks:{callback:v=>v.toLocaleString('es-AR')}}}
      }
    });

    new Chart(document.getElementById('igLine'),{
      type:'line',
      data:{labels:meses,datasets:igSets},
      options:{
        responsive:true,maintainAspectRatio:false,
        plugins:{legend:{position:'top'}},
        scales:{y:{beginAtZero:true,ticks:{callback:v=>v.toLocaleString('es-AR')}}}
      }
    });

    /* === Eventos destacados con tus imÃ¡genes horizontales === */
    const eventosFacebook = {
      enero: {
        imagen: './img/fenero.PNG',
        descripcion: 'ðŸ’¥ Â¡Vuelve el Festival que todos estÃ¡bamos esperando!ðŸ‡ Festival del Malbec y el Olivo ðŸ«’ @festivalmalbecyolivo.oficialðŸ—“ï¸ 13 al 16 de Febrero.ðŸ“ Teatro Griego de MaipÃº, Parque Metropolitano Sur.'
      },
      febrero: {
        imagen: './img/ffebrero.PNG',
        descripcion: 'ðŸ‡ConocÃ© a las candidatas a Reina de la Vendimia de MaipÃº 2025.'
      },
      marzo: {
        imagen: './img/fmarzo.PNG',
        descripcion: 'âœ¨ Â¡Gran Baile para Adultos Mayores! ðŸ’ƒðŸ•º'
      },
      abril: {
        imagen: './img/fabril.PNG',
        descripcion: 'âœ¨ Â¡MÃ³vil veterinario gratuito â—ï¸ ðŸ—“ï¸ Desde el 29/4 al 9/5 en ciudad de MaipÃº.'
      },
      mayo: {
        imagen: './img/fmayo.png',
        descripcion: 'ðŸ“¢ Â¡Lanzamos las nuevas lÃ­neas de crÃ©ditos 2025! Si vivÃ­s en MaipÃº y estÃ¡s pensando en impulsar tu proyecto o emprendimiento'
      },
      junio: {
        imagen: './img/fjunio.png',
        descripcion: 'ðŸ”¹Plan Integral de Asfalto 2025-2026. Â¡Ya estÃ¡ en marcha! ðŸš§ '
      },
      julio: {
        imagen: './img/fjulio.PNG',
        descripcion: 'ðŸ”¹Nuevo Centro de AtenciÃ³n Primaria VeterinariaðŸ”¹'
      },
      agosto: {
        imagen: './img/fagosto.PNG',
        descripcion: ''
      },
      septiembre: {
        imagen: './img/fseptiembre.PNG',
        descripcion: ''
      },
      octubre: {
        imagen: './img/foctubre.PNG',
        descripcion: ''
      }
    };

    const eventosInstagram = {
      enero: {
        imagen: './img/ienero.PNG',
        descripcion: 'ðŸ“¸ Comedia de RODOLFO RANNI , Teatro Imperial.'
      },
      febrero: {
        imagen: './img/ifebrero.PNG',
        descripcion: 'ðŸ“¸ Comedia de RODOLFO RANNI , Teatro Imperial.'
      },
      marzo: {
        imagen: './img/imarzo.PNG',
        descripcion: 'ðŸ‘‘ Junto a Trinidad, participamos en la Fiesta de la Cosecha en el Aeropuerto de Mendoza.'
      },
      abril: {
        imagen: './img/iabril.PNG',
        descripcion: 'ðŸ™ðŸ» Con gran devociÃ³n, vivimos juntos el VÃ­a Crucis en MaipÃº. '
      },
      mayo: {
        imagen: './img/imayo.png',
        descripcion: 'ðŸŒ„ ViÃ±a, montaÃ±a y rincones con historia. DespuÃ©s de la nevada, MaipÃº nos regala postales Ãºnicas. '
      },
      junio: {
        imagen: './img/ijunio.png',
        descripcion: 'â„ï¸ Â¡Vacaciones en MaipÃº'
      },
      julio: {
        imagen: './img/ijulio.PNG',
        descripcion: 'â„ï¸ Â¡Llegan las vacaciones de invierno a MaipÃº! ðŸ—“ï¸'
      },
      agosto: {
        imagen: './img/iagosto.PNG',
        descripcion: ''
      },
      septiembre: {
        imagen: './img/iseptiembre.PNG',
        descripcion: ''
      },
      octubre: {
        imagen: './img/ioctubre.PNG',
        descripcion: ''
      }
    };

    const mesesLabels = {
      enero:'ENE', febrero:'FEB', marzo:'MAR', abril:'ABR',
      mayo:'MAY', junio:'JUN', julio:'JUL', agosto:'AGO',
      septiembre:'SEP', octubre:'OCT', noviembre:'NOV', diciembre:'DIC'
    };

    /* Lightbox */
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    const lightboxCaption = document.getElementById('lightbox-caption');
    const lightboxBackdrop = document.querySelector('.lightbox-backdrop');
    const lightboxClose = document.querySelector('.lightbox-close');

    function openLightbox(src, caption){
      lightboxImg.src = src;
      lightboxCaption.textContent = caption || '';
      lightbox.classList.add('active');
      lightbox.setAttribute('aria-hidden','false');
    }
    function closeLightbox(){
      lightbox.classList.remove('active');
      lightboxImg.src = '';
      lightboxCaption.textContent = '';
      lightbox.setAttribute('aria-hidden','true');
    }

    lightboxBackdrop.addEventListener('click', closeLightbox);
    lightboxClose.addEventListener('click', closeLightbox);
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape') closeLightbox();
    });

    function renderEventos(red, data, wrapperId, dotsId, autoDirection){
      const wrapper = document.getElementById(wrapperId);
      if(!wrapper) return;
      const viewport = wrapper.querySelector('.carousel-viewport');
      const dotsContainer = document.getElementById(dotsId);
      if(!viewport || !dotsContainer) return;

      viewport.innerHTML = '';
      dotsContainer.innerHTML = '';

      const ordenMeses = ['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre']
        .filter(m => data[m]);

      const total = ordenMeses.length;

      ordenMeses.forEach((mesClave, index) => {
        const evento = data[mesClave];
        const etiquetaMes = mesesLabels[mesClave] || mesClave.slice(0,3).toUpperCase();
        const bodyClass = red === 'Facebook' ? 'carousel-body fb-body' : 'carousel-body ig-body';
        const titulo = `${red} Â· ${etiquetaMes}`;

        const slide = document.createElement('article');
        slide.className = 'carousel-slide';
        slide.dataset.index = index;
        slide.innerHTML = `
          <div class="carousel-slide-inner">
            <div class="carousel-img-box">
              <span class="highlight-month-pill">${etiquetaMes}</span>
              <img src="${evento.imagen}" alt="${evento.descripcion}" data-caption="${evento.descripcion.replace(/"/g,'&quot;')}">
            </div>
            <div class="${bodyClass}">
              <div class="carousel-meta">
                <span class="meta-chip">${etiquetaMes} 2025</span>
                <span class="meta-chip">${red} Â· MaipÃº Municipio</span>
                <span class="meta-chip">Evento ${index + 1}/${total}</span>
              </div>
              <h4>${titulo}</h4>
              <p>${evento.descripcion}</p>
            </div>
          </div>
        `;
        viewport.appendChild(slide);

        const dot = document.createElement('button');
        dot.type = 'button';
        dot.className = 'carousel-dot';
        dot.dataset.index = index;
        dotsContainer.appendChild(dot);
      });

      const slides = viewport.querySelectorAll('.carousel-slide');
      const dots = dotsContainer.querySelectorAll('.carousel-dot');
      if(slides.length === 0) return;

      let current = 0;
      const prevBtn = wrapper.querySelector('.carousel-arrow.prev');
      const nextBtn = wrapper.querySelector('.carousel-arrow.next');

      function goTo(index){
        slides.forEach((s,i)=> s.classList.toggle('active', i === index));
        dots.forEach((d,i)=> d.classList.toggle('active', i === index));
        current = index;
      }

      if(prevBtn && nextBtn){
        prevBtn.addEventListener('click', () => {
          const nextIndex = (current - 1 + slides.length) % slides.length;
          goTo(nextIndex);
        });
        nextBtn.addEventListener('click', () => {
          const nextIndex = (current + 1) % slides.length;
          goTo(nextIndex);
        });
      }

      dots.forEach(dot => {
        dot.addEventListener('click', () => {
          const idx = parseInt(dot.dataset.index,10);
          if(!isNaN(idx)) goTo(idx);
        });
      });

      goTo(0);

      const dir = autoDirection || 1;

      if(slides.length > 1){
        setInterval(() => {
          let nextIndex = current + dir;
          if(nextIndex < 0) nextIndex = slides.length - 1;
          if(nextIndex >= slides.length) nextIndex = 0;
          goTo(nextIndex);
        }, 8000);
      } else {
        if(prevBtn) prevBtn.style.display = 'none';
        if(nextBtn) nextBtn.style.display = 'none';
        dotsContainer.style.display = 'none';
      }
    }

    // Click sobre imÃ¡genes del carrusel para abrir el lightbox
    document.addEventListener('click', (e)=>{
      if(e.target && e.target.matches('.carousel-img-box img')){
        const img = e.target;
        const caption = img.getAttribute('data-caption') || img.alt || '';
        openLightbox(img.src, caption);
      }
    });

    renderEventos('Facebook', eventosFacebook, 'carousel-facebook', 'dots-facebook', 1);
    renderEventos('Instagram', eventosInstagram, 'carousel-instagram', 'dots-instagram', 1);
  </script>
</body>
</html>

