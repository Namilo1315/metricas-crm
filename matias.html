<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>MÃ©tricas 2025 â€“ MatÃ­as Stevanato</title>
  <link rel="shortcut icon" href="img/logo.png" type="image/x-icon">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    :root{
      --azul:#004b7f; 
      --azul-2:#006aa3; 
      --gris-fondo:#f5f7fa; 
      --card:#ffffff; 
      --borde:#e0e6ed;
      --verde:#1a7f37; 
      --verde-suave:#e1f3e7; 
      --amarillo:#bf8f00; 
      --amarillo-suave:#fff8e1;
      --texto:#111;
      --zoom:.90;
    }
    *{box-sizing:border-box}
    body{
      margin:0;background:var(--gris-fondo);color:var(--texto);
      font:14.5px/1.45 "Inter",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial
    }
    .container{max-width:1200px;margin:auto;padding:22px 16px 40px}

    /* Header + nav */
    header{
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:16px;
      flex-wrap:wrap
    }
    header img{height:48px}
    header h1{
      margin:0;
      color:var(--azul);
      font-size:26px;
      font-weight:800;
      line-height:1.15
    }
    .nav{
      margin-left:auto;
      display:flex;
      gap:8px;
      flex-wrap:wrap
    }
    .btn{
      padding:8px 12px;
      border:1px solid var(--azul-2);
      background:#fff;
      color:var(--azul-2);
      border-radius:10px;
      text-decoration:none;
      font-weight:700
    }
    .btn:hover{background:var(--azul-2);color:#fff}
    .btn.active{background:var(--azul-2);color:#fff;pointer-events:none;opacity:.92}

    /* Secciones */
    section{margin-top:28px}
    section h2{
      margin:0 0 14px;color:var(--azul);font-size:20px;font-weight:700;
      border-bottom:2px solid var(--azul-2);padding-bottom:6px
    }
    .section-subtitle{
      margin:4px 0 14px;
      font-size:13px;
      color:#555;
      max-width:720px;
    }

    /* Charts */
    .charts{
      display:grid;gap:20px;
      grid-template-columns:repeat(2,minmax(280px,1fr));
    }
    .card{
      background:var(--card);border:1px solid var(--borde);border-radius:12px;
      padding:14px 14px 10px;box-shadow:0 1px 3px rgba(0,0,0,.06)
    }
    .card h3{margin:0 0 10px;text-align:center;color:var(--azul);font-size:16px}
    .card canvas{width:100%!important;height:340px!important}

    /* Tabla */
    .table-wrap{
      background:var(--card);border:1px solid var(--borde);border-radius:12px;
      padding:12px;box-shadow:0 1px 3px rgba(0,0,0,.06);overflow:auto
    }
    table{width:100%;border-collapse:collapse;min-width:720px}
    thead th{
      background:var(--azul-2);color:#fff;border:1px solid var(--azul-2);
      padding:8px 6px;font-weight:700;text-align:center;position:sticky;top:0
    }
    tbody td,tbody th{border:1px solid var(--borde);padding:8px 6px}
    tbody td{text-align:right}
    tbody tr:nth-child(odd){background:#fafcff}
    tbody tr:hover{background:#f2f6fb}
    tbody th{
      text-align:left;background:#f0f4f8;color:var(--azul);font-weight:700;
      display:flex;align-items:center;gap:8px
    }
    .fb-head{background:var(--verde-suave)!important;color:var(--verde)!important}
    .ig-head{background:var(--amarillo-suave)!important;color:var(--amarillo)!important}

    .icon{width:18px;height:18px;vertical-align:-3px}
    .ig{color:#E1306C}.fb{color:#1877F2}

    /* === SecciÃ³n eventos destacados === */
    #eventos-redes{
      margin-top:32px;
      padding:18px 14px 22px;
      border-radius:18px;
      background:linear-gradient(
        180deg,
        rgba(0,75,127,0.08),
        rgba(0,106,163,0.02)
      );
      border:1px solid rgba(0,75,127,0.12);
    }

    .highlight-subtitle{
      margin:18px 0 8px;
      padding:6px 12px;
      font-size:15px;
      color:var(--azul);
      display:flex;
      align-items:center;
      gap:8px;
      border-radius:999px;
      background:linear-gradient(
        90deg,
        rgba(0,75,127,0.16),
        rgba(0,106,163,0.05)
      );
      font-weight:600;
    }
    .network-tag{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.06em;
      padding:3px 9px;
      border-radius:999px;
      border:1px solid var(--borde);
      background:#fff;
      display:inline-flex;
      align-items:center;
      gap:4px;
      white-space:nowrap;
    }
    .tag-icon{
      width:14px;
      height:14px;
      vertical-align:-2px;
    }
    .fb-tag{
      border-color:rgba(24,119,242,.4);
      color:#1877F2;
      background:rgba(24,119,242,.06);
    }
    .ig-tag{
      border-color:rgba(225,48,108,.4);
      color:#E1306C;
      background:rgba(225,48,108,.08);
    }

    .carousel-wrapper{
      position:relative;
      margin-top:6px;
    }
    .carousel-viewport{
      border-radius:16px;
      overflow:hidden;
      background:var(--card);
      box-shadow:0 2px 10px rgba(0,0,0,.12);
    }
    .carousel-slide{
      display:none;
    }
    .carousel-slide.active{
      display:block;
    }
    .carousel-slide-inner{
      display:flex;
      flex-wrap:wrap;
    }
    .carousel-img-box{
      flex:1 1 55%;
      position:relative;
      overflow:hidden;
      background:#000;
    }
    .carousel-img-box img{
      width:100%;
      height:auto;
      display:block;
      cursor:zoom-in;
      transition:transform .25s ease, filter .25s ease;
    }
    .carousel-slide.active .carousel-img-box img{
      transform:scale(1.01);
    }
    .highlight-month-pill{
      position:absolute;
      top:12px;
      left:12px;
      background:rgba(0,75,127,.96);
      color:#fff;
      padding:4px 10px;
      border-radius:999px;
      font-size:11px;
      font-weight:700;
      letter-spacing:.06em;
    }

    .carousel-body{
      flex:1 1 45%;
      padding:18px 20px 18px;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:10px;
    }
    .carousel-body.fb-body{
      background:linear-gradient(135deg, rgba(0,75,127,0.06), rgba(24,119,242,0.03));
      border-left:3px solid rgba(24,119,242,0.4);
    }
    .carousel-body.ig-body{
      background:linear-gradient(135deg, rgba(225,48,108,0.05), rgba(255,214,224,0.03));
      border-left:3px solid rgba(225,48,108,0.4);
    }

    .carousel-meta{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.06em;
      color:#555;
    }
    .meta-chip{
      padding:3px 8px;
      border-radius:999px;
      background:rgba(255,255,255,0.9);
      border:1px solid rgba(0,0,0,0.06);
    }

    .carousel-body h4{
      margin:0;
      font-size:15px;
      color:var(--azul-2);
      font-weight:700;
    }
    .carousel-body p{
      margin:0;
      font-size:13.5px;
      color:#333;
      line-height:1.5;
    }

    .carousel-arrow{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      width:32px;height:32px;
      border-radius:999px;
      border:1px solid rgba(0,0,0,.16);
      background:rgba(255,255,255,0.9);
      box-shadow:0 2px 6px rgba(0,0,0,0.16);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:18px;
      cursor:pointer;
      color:var(--azul-2);
      backdrop-filter:blur(4px);
    }
    .carousel-arrow:hover{
      background:#fff;
    }
    .carousel-arrow.prev{left:10px}
    .carousel-arrow.next{right:10px}

    .carousel-dots{
      display:flex;
      gap:6px;
      margin-top:8px;
      justify-content:center;
      flex-wrap:wrap;
    }
    .carousel-dot{
      width:10px;height:10px;
      border-radius:999px;
      border:1px solid var(--borde);
      background:#fff;
      cursor:pointer;
      transition:all .18s ease;
    }
    .carousel-dot.active{
      background:var(--azul-2);
      border-color:var(--azul-2);
      width:16px;
    }

    /* LIGHTBOX */
    .lightbox{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      z-index:999;
    }
    .lightbox.active{
      display:flex;
    }
    .lightbox-backdrop{
      position:absolute;
      inset:0;
      background:rgba(0,0,0,0.7);
    }
    .lightbox-content{
      position:relative;
      max-width:90vw;
      max-height:90vh;
      margin:0;
      background:#000;
      border-radius:12px;
      overflow:hidden;
      box-shadow:0 10px 30px rgba(0,0,0,0.7);
      z-index:1;
      display:flex;
      flex-direction:column;
    }
    .lightbox-content img{
      display:block;
      max-width:90vw;
      max-height:82vh;
      width:auto;
      height:auto;
      object-fit:contain;
      margin:0 auto;
    }
    .lightbox-caption{
      padding:8px 12px;
      font-size:12px;
      color:#f3f3f3;
      background:rgba(0,0,0,0.9);
    }
    .lightbox-close{
      position:absolute;
      top:6px;
      right:8px;
      width:28px;height:28px;
      border-radius:999px;
      border:none;
      background:rgba(0,0,0,0.6);
      color:#fff;
      font-size:18px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .lightbox-close:hover{
      background:rgba(0,0,0,0.85);
    }

    /* BREAKPOINTS */
    @media (max-width:1024px){
      header img{height:56px}
      header h1{font-size:24px}
      .card canvas{height:320px!important}
    }
    @media (max-width:860px){
      .charts{grid-template-columns:1fr}
      .nav{margin-left:0}
      header{align-items:flex-start}
      .btn{font-size:14px;padding:7px 10px}
    }
    @media (max-width:768px){
      /* Header centrado en modo celular (igual que MaipÃº/CRM) */
      header{
        flex-direction:column;
        align-items:center;
        text-align:center;
      }
      header img{
        height:56px;
      }
      header h1{
        font-size:20px;
      }
      .nav{
        width:100%;
        margin-left:0;
        justify-content:center;
      }

      .carousel-slide-inner{
        flex-direction:column;
      }
      .carousel-img-box{
        flex-basis:100%;
      }
      .carousel-body{
        padding:14px 14px 16px;
      }
      .carousel-arrow{
        top:45%;
      }
    }
    @media (max-width:640px){
      .carousel-arrow{
        top:auto;
        bottom:10px;
        transform:none;
      }
      .carousel-arrow.prev{left:10px}
      .carousel-arrow.next{right:10px}
      #eventos-redes{
        padding:14px 10px 18px;
      }
    }
    @media (max-width:520px){
      header h1{font-size:20px}
      header img{height:50px}
      .card canvas{height:300px!important}
    }

    /* Escala global 90% */
    html { zoom: var(--zoom); }
    @supports not (zoom: 1) {
      html, body { overflow-x: hidden; }
      body {
        transform: scale(var(--zoom));
        transform-origin: top left;
        width: calc(100% / var(--zoom));
      }
    }
    .card canvas { height: 300px !important; }
  </style>
</head>
<body>
  <!-- Ãconos -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="icon-fb" viewBox="0 0 24 24">
      <path fill="currentColor" d="M22 12.06C22 6.503 17.523 2 12 2S2 6.503 2 12.06c0 5.016 3.657 9.173 8.438 9.94v-7.03H7.898v-2.91h2.54V9.845c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.47h-1.26c-1.242 0-1.63.773-1.63 1.565v1.873h2.773l-.444 2.91h-2.33v7.03C18.343 21.233 22 17.076 22 12.06z"/>
    </symbol>
    <symbol id="icon-ig" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 2.2c3.2 0 3.584.012 4.85.07 1.17.055 1.95.24 2.4.4.6.22 1.03.48 1.48.93.45.45.71.89.93 1.48.16.45.34 1.23.4 2.4.06 1.27.07 1.65.07 4.85s-.01 3.58-.07 4.85c-.06 1.17-.24 1.95-.4 2.4-.22.59-.48 1.03-.93 1.48-.45.45-.89.71-1.48.93-.45.16-1.23.34-2.4.4-1.27.06-1.65.07-4.85.07s-3.58-.01-4.85-.07c-1.17-.06-1.95-.24-2.4-.4-.59-.22-1.03-.48-1.48-.93-.45-.45-.71-.89-.93-1.48-.16-.45-.34-1.23-.4-2.4C2.21 15.58 2.2 15.2 2.2 12s.01-3.58.07-4.85c.06-1.17.24-1.95.4-2.4.22-.59.48-1.03.93-1.48.45-.45.89-.71 1.48-.93.45-.16 1.23-.34 2.4-.4C8.42 2.21 8.8 2.2 12 2.2m0-1.7Z"/>
      <circle fill="currentColor" cx="12" cy="12" r="3.2"/>
      <circle fill="currentColor" cx="17.4" cy="6.6" r="1.2"/>
    </symbol>
  </svg>

  <div class="container">
    <header>
      <img src="img/logo.png" alt="Logo MaipÃº" />
      <h1>MÃ©tricas 2025 â€“ MatÃ­as Stevanato </h1>
      <nav class="nav">
        <a class="btn" href="index.html">MaipÃº</a>
        <a class="btn active" href="matias.html">MatÃ­as</a>
        <a class="btn" href="reclamos.html">Reclamos</a>
        <a class="btn" href="crm.html">CRM</a>
      </nav>
    </header>

    <section>
      <h2>EvoluciÃ³n mensual de Redes Sociales.</h2>
      <div class="charts">
        <div class="card"><h3>Facebook</h3><canvas id="fbLine"></canvas></div>
        <div class="card"><h3>Instagram</h3><canvas id="igLine"></canvas></div>
      </div>
    </section>

    <section>
      <h2>MÃ©tricas mensuales â€“ MatÃ­as Stevanato</h2>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>Concepto</th>
              <th>ENE</th><th>FEB</th><th>MAR</th><th>ABR</th><th>MAY</th><th>JUN</th>
              <th>JUL</th><th>AGO</th><th>SEP</th><th>OCT</th><th>NOV</th><th>DIC</th>
            </tr>
          </thead>
          <tbody>
            <!-- FACEBOOK -->
            <tr><th class="fb-head"><svg class="icon fb"><use href="#icon-fb"/></svg> Facebook â€“ Alcances</th>
              <td>28 200</td><td>25 200</td><td>29 600</td><td>23 200</td><td>10 331</td><td>95 487</td>
              <td>186 521</td><td>179 500</td><td>28 600</td><td>10 000</td><td>38 500</td><td>0</td></tr>
            <tr><th><svg class="icon fb"><use href="#icon-fb"/></svg> Facebook â€“ Visualizaciones</th>
              <td>105 000</td><td>82 600</td><td>78 600</td><td>51 900</td><td>26 088</td><td>385 546</td>
              <td>1 785 223</td><td>1 200 000</td><td>72 900</td><td>68 800</td><td>59 100</td><td>0</td></tr>
            <tr><th><svg class="icon fb"><use href="#icon-fb"/></svg> Facebook â€“ Seguidores</th>
              <td>191</td><td>53</td><td>40</td><td>30</td><td>107</td><td>98</td><td>71</td><td>47</td><td>56</td><td>77</td><td>40</td><td>0</td></tr>
            <tr><th><svg class="icon fb"><use href="#icon-fb"/></svg> Facebook â€“ Visitas</th>
              <td>4 500</td><td>3 300</td><td>2 900</td><td>2 900</td><td>2 494</td><td>1 829</td>
              <td>1 990</td><td>1 900</td><td>2 000</td><td>2 000</td><td>1 100</td><td>0</td></tr>
            <tr><th><svg class="icon fb"><use href="#icon-fb"/></svg> Facebook â€“ Mensajes</th>
              <td>76</td><td>40</td><td>62</td><td>61</td><td>33</td><td>17</td><td>15</td><td>0</td><td>23</td><td>36</td><td>16</td><td>0</td></tr>
            <!-- INSTAGRAM -->
            <tr><th class="ig-head"><svg class="icon ig"><use href="#icon-ig"/></svg> Instagram â€“ Alcances</th>
              <td>24 600</td><td>28 100</td><td>20 400</td><td>32 600</td><td>27 275</td><td>118 943</td>
              <td>230 638</td><td>247 000</td><td>33 900</td><td>43 600</td><td>76 500</td><td>0</td></tr>
            <tr><th><svg class="icon ig"><use href="#icon-ig"/></svg> Instagram â€“ Visualizaciones</th>
              <td>113 800</td><td>112 700</td><td>82 500</td><td>132 500</td><td>143 779</td><td>225 134</td>
              <td>857 270</td><td>680 000</td><td>253 700</td><td>180 700</td><td>256 300</td><td>0</td></tr>
            <tr><th><svg class="icon ig"><use href="#icon-ig"/></svg> Instagram â€“ Seguidores</th>
              <td>298</td><td>269</td><td>151</td><td>158</td><td>191</td><td>252</td><td>467</td><td>345</td><td>199</td><td>240</td><td>182</td><td>0</td></tr>
            <tr><th><svg class="icon ig"><use href="#icon-ig"/></svg> Instagram â€“ Visitas</th>
              <td>1 500</td><td>1 800</td><td>1 100</td><td>1 200</td><td>1 627</td><td>1 476</td>
              <td>31 944</td><td>2 400</td><td>1 900</td><td>2 000</td><td>1 400</td><td>0</td></tr>
            <tr><th><svg class="icon ig"><use href="#icon-ig"/></svg> Instagram â€“ Mensajes</th>
              <td>172</td><td>198</td><td>148</td><td>142</td><td>134</td><td>144</td>
              <td>132</td><td>155</td><td>185</td><td>170</td><td>122</td><td>0</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Eventos destacados MatÃ­as -->
    <section id="eventos-redes">
      <h2>Eventos destacados 2025</h2>
      <p class="section-subtitle">
       
      </p>

      <h3 class="highlight-subtitle">
        Facebook
        <span class="network-tag fb-tag">
          <svg class="tag-icon fb"><use href="#icon-fb"/></svg>
          Eventos destacados
        </span>
      </h3>
      <div id="carousel-facebook" class="carousel-wrapper">
        <button class="carousel-arrow prev" type="button" aria-label="Anterior">&#10094;</button>
        <div class="carousel-viewport"></div>
        <button class="carousel-arrow next" type="button" aria-label="Siguiente">&#10095;</button>
      </div>
      <div id="dots-facebook" class="carousel-dots"></div>

      <h3 class="highlight-subtitle">
        Instagram
        <span class="network-tag ig-tag">
          <svg class="tag-icon ig"><use href="#icon-ig"/></svg>
          Eventos destacados
        </span>
      </h3>
      <div id="carousel-instagram" class="carousel-wrapper">
        <button class="carousel-arrow prev" type="button" aria-label="Anterior">&#10094;</button>
        <div class="carousel-viewport"></div>
        <button class="carousel-arrow next" type="button" aria-label="Siguiente">&#10095;</button>
      </div>
      <div id="dots-instagram" class="carousel-dots"></div>
    </section>
  </div>

  <!-- LIGHTBOX -->
  <div id="lightbox" class="lightbox" aria-hidden="true">
    <div class="lightbox-backdrop"></div>
    <figure class="lightbox-content">
      <button type="button" class="lightbox-close" aria-label="Cerrar">&times;</button>
      <img id="lightbox-img" src="" alt="">
      <figcaption id="lightbox-caption" class="lightbox-caption"></figcaption>
    </figure>
  </div>

  <script>
    /* Chart.js */
    Chart.defaults.color = '#111';
    Chart.defaults.font.size = 12;
    Chart.defaults.plugins.legend.labels.color = '#111';
    Chart.defaults.plugins.legend.labels.boxWidth = 10;
    Chart.defaults.plugins.legend.labels.boxHeight = 10;
    Chart.defaults.plugins.legend.labels.usePointStyle = true;
    Chart.defaults.elements.point.pointStyle = 'rect';
    Chart.defaults.elements.point.radius = 3;

    const meses=['ENE','FEB','MAR','ABR','MAY','JUN','JUL','AGO','SEP','OCT','NOV','DIC'];

    const fb={
      Alcances:[28200,25200,29600,23200,10331,95487,186521,179500,28600,10000,38500,0],
      Visualizaciones:[105000,82600,78600,51900,26088,385546,1785223,1200000,72900,68800,59100,0],
      Seguidores:[191,53,40,30,107,98,71,47,56,77,40,0],
      Visitas:[4500,3300,2900,2900,2494,1829,1990,1900,2000,2000,1100,0],
      Mensajes:[76,40,62,61,33,17,15,0,23,36,16,0]
    };
    const ig={
      Alcances:[24600,28100,20400,32600,27275,118943,230638,247000,33900,43600,76500,0],
      Visualizaciones:[113800,112700,82500,132500,143779,225134,857270,680000,253700,180700,256300,0],
      Seguidores:[298,269,151,158,191,252,467,345,199,240,182,0],
      Visitas:[1500,1800,1100,1200,1627,1476,31944,2400,1900,2000,1400,0],
      Mensajes:[172,198,148,142,134,144,132,155,185,170,122,0]
    };

    const fbColors={
      Alcances:'rgba(56,142,60,.9)',
      Visualizaciones:'rgba(25,118,210,.9)',
      Seguidores:'rgba(251,192,45,.9)',
      Visitas:'rgba(239,108,0,.9)',
      Mensajes:'rgba(142,36,170,.9)'
    };
    const igColors={
      Alcances:'rgba(255,202,40,.9)',
      Visualizaciones:'rgba(13,71,161,.9)',
      Seguidores:'rgba(0,150,136,.9)',
      Visitas:'rgba(255,143,0,.9)',
      Mensajes:'rgba(216,27,96,.9)'
    };

    const fbSets = Object.keys(fb).map(k=>({
      label:k,data:fb[k],
      borderColor:fbColors[k],backgroundColor:fbColors[k],
      fill:false,tension:.25,pointRadius:3,pointStyle:'rect'
    }));
    const igSets = Object.keys(ig).map(k=>({
      label:k,data:ig[k],
      borderColor:igColors[k],backgroundColor:igColors[k],
      fill:false,tension:.25,pointRadius:3,pointStyle:'rect'
    }));

    new Chart(document.getElementById('fbLine'),{
      type:'line',
      data:{labels:meses,datasets:fbSets},
      options:{
        responsive:true,maintainAspectRatio:false,
        plugins:{legend:{position:'top'}},
        scales:{y:{beginAtZero:true,ticks:{callback:v=>v.toLocaleString('es-AR')}}}
      }
    });

    new Chart(document.getElementById('igLine'),{
      type:'line',
      data:{labels:meses,datasets:igSets},
      options:{
        responsive:true,maintainAspectRatio:false,
        plugins:{legend:{position:'top'}},
        scales:{y:{beginAtZero:true,ticks:{callback:v=>v.toLocaleString('es-AR')}}}
      }
    });

    /* Eventos destacados MatÃ­as: img/matias/... */
    const eventosFacebook = {
      enero: {
        imagen: './img/matiasenerof.PNG',
        descripcion: 'ðŸ‡ Vendimia Maipucina 2025 - Gran celebraciÃ³n popular.'
      },
      febrero: {
        imagen: './img/matiasfebrerof.PNG',
        descripcion: 'ðŸ–ï¸ Festival de Verano en la Plaza Departamental.'
      },
      marzo: {
        imagen: './img/matiasmarzof.PNG',
        descripcion: 'ðŸ–ï¸ Festival de Verano en la Plaza Departamental.'
      },
      abril: {
        imagen: './img/matiasabrilf.PNG',
        descripcion: 'ðŸ‘ðŸ» MaipÃº fue declarada Capital del Aceto BalsÃ¡mico por el Honorable Concejo Deliberante.'
      },
      mayo: {
        imagen: './img/matiasmayof.png',
        descripcion: 'ðŸ‘ðŸ» DÃ­a Nacional de la DonaciÃ³n de Ã“rganos.'
      },
      junio: {
        imagen: './img/matiasjuniof.png',
        descripcion: 'ðŸš§ Plan Integral de Asfalto 2025-2026. Â¡Ya estÃ¡ en marcha! ðŸ’ªðŸ»'
      },
      julio: {
        imagen: './img/matiasjuliof.PNG',
        descripcion: 'âœ¨ Se pone en funcionamiento el nuevo Centro de AtenciÃ³n Primaria Veterinaria.'
      },
      agosto: {
        imagen: './img/matiasagostof.PNG',
        descripcion: ''
      },
      septiembre: {
        imagen: './img/matiasseptiembref.PNG',
        descripcion: ''
      },
      octubre: {
        imagen: './img/matiasoctubref.PNG',
        descripcion: ''
      },
       noviembre: {
        imagen: './img/matiasnoviembref.PNG',
        descripcion: ''
      }
    };

    const eventosInstagram = {
      enero: {
        imagen: './img/matiaseneroi.PNG',
        descripcion: 'ðŸ“¸ Ãlbum visual del evento Vendimia Maipucina.'
      },
      febrero: {
        imagen: './img/matiasfebreroi.PNG',
        descripcion: 'ðŸŽ¶ Post destacando artistas del Festival de Verano.'
      },
      marzo: {
        imagen: './img/matiasmarzoi.PNG',
        descripcion: 'ðŸ–ï¸ Festival de Verano en la Plaza Departamental.'
      },
      abril: {
        imagen: './img/matiasabrili.PNG',
        descripcion: 'ðŸ™ðŸ» Con gran devociÃ³n, vivimos juntos el VÃ­a Crucis en MaipÃº.'
      },
      mayo: {
        imagen: './img/matiasmayoi.PNG',
        descripcion: 'ðŸ‘ðŸ» MaipÃº celebrÃ³ el 25 de Mayo.'
      },
      junio: {
        imagen: './img/matiasjunioi.PNG',
        descripcion: 'ðŸš§ Plan Integral de Asfalto 2025-2026. Â¡Ya estÃ¡ en marcha! ðŸ’ªðŸ»'
      },
      julio: {
        imagen: './img/matiasjulioi.PNG',
        descripcion: 'â„ï¸ Â¡Llegaron las vacaciones de invierno a MaipÃº! ðŸ—“ï¸'
      },
      agosto: {
        imagen: './img/matiasagostoi.PNG',
        descripcion: ''
      },
      septiembre: {
        imagen: './img/matiasseptiembrei.PNG',
        descripcion: ''
      },
      octubre: {
        imagen: './img/matiasoctubrei.PNG',
        descripcion: ''
      },
        noviembre: {
        imagen: './img/matiasnoviembrei.PNG',
        descripcion: ''
      }
    };

    const mesesLabels = {
      enero:'ENE', febrero:'FEB', marzo:'MAR', abril:'ABR',
      mayo:'MAY', junio:'JUN', julio:'JUL', agosto:'AGO',
      septiembre:'SEP', octubre:'OCT', noviembre:'NOV', diciembre:'DIC'
    };

    /* Lightbox */
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    const lightboxCaption = document.getElementById('lightbox-caption');
    const lightboxBackdrop = document.querySelector('.lightbox-backdrop');
    const lightboxClose = document.querySelector('.lightbox-close');

    function openLightbox(src, caption){
      lightboxImg.src = src;
      lightboxCaption.textContent = caption || '';
      lightbox.classList.add('active');
      lightbox.setAttribute('aria-hidden','false');
    }
    function closeLightbox(){
      lightbox.classList.remove('active');
      lightboxImg.src = '';
      lightboxCaption.textContent = '';
      lightbox.setAttribute('aria-hidden','true');
    }

    lightboxBackdrop.addEventListener('click', closeLightbox);
    lightboxClose.addEventListener('click', closeLightbox);
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape') closeLightbox();
    });

    function renderEventos(red, data, wrapperId, dotsId, autoDirection){
      const wrapper = document.getElementById(wrapperId);
      if(!wrapper) return;
      const viewport = wrapper.querySelector('.carousel-viewport');
      const dotsContainer = document.getElementById(dotsId);
      if(!viewport || !dotsContainer) return;

      viewport.innerHTML = '';
      dotsContainer.innerHTML = '';

      const ordenMeses = ['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre']
        .filter(m => data[m]);

      const total = ordenMeses.length;

      ordenMeses.forEach((mesClave, index) => {
        const evento = data[mesClave];
        const etiquetaMes = mesesLabels[mesClave] || mesClave.slice(0,3).toUpperCase();
        const bodyClass = red === 'Facebook' ? 'carousel-body fb-body' : 'carousel-body ig-body';
        const titulo = `${red} Â· ${etiquetaMes}`;

        const slide = document.createElement('article');
        slide.className = 'carousel-slide';
        slide.dataset.index = index;
        slide.innerHTML = `
          <div class="carousel-slide-inner">
            <div class="carousel-img-box">
              <span class="highlight-month-pill">${etiquetaMes}</span>
              <img src="${evento.imagen}" alt="${evento.descripcion}" data-caption="${evento.descripcion.replace(/"/g,'&quot;')}">
            </div>
            <div class="${bodyClass}">
              <div class="carousel-meta">
                <span class="meta-chip">${etiquetaMes} 2025</span>
                <span class="meta-chip">${red} Â· MatÃ­as Stevanato</span>
                <span class="meta-chip">Evento ${index + 1}/${total}</span>
              </div>
              <h4>${titulo}</h4>
              <p>${evento.descripcion}</p>
            </div>
          </div>
        `;
        viewport.appendChild(slide);

        const dot = document.createElement('button');
        dot.type = 'button';
        dot.className = 'carousel-dot';
        dot.dataset.index = index;
        dotsContainer.appendChild(dot);
      });

      const slides = viewport.querySelectorAll('.carousel-slide');
      const dots = dotsContainer.querySelectorAll('.carousel-dot');
      if(slides.length === 0) return;

      let current = 0;
      const prevBtn = wrapper.querySelector('.carousel-arrow.prev');
      const nextBtn = wrapper.querySelector('.carousel-arrow.next');

      function goTo(index){
        slides.forEach((s,i)=> s.classList.toggle('active', i === index));
        dots.forEach((d,i)=> d.classList.toggle('active', i === index));
        current = index;
      }

      if(prevBtn && nextBtn){
        prevBtn.addEventListener('click', () => {
          const nextIndex = (current - 1 + slides.length) % slides.length;
          goTo(nextIndex);
        });
        nextBtn.addEventListener('click', () => {
          const nextIndex = (current + 1) % slides.length;
          goTo(nextIndex);
        });
      }

      dots.forEach(dot => {
        dot.addEventListener('click', () => {
          const idx = parseInt(dot.dataset.index,10);
          if(!isNaN(idx)) goTo(idx);
        });
      });

      goTo(0);

      const dir = autoDirection || 1;

      if(slides.length > 1){
        setInterval(() => {
          let nextIndex = current + dir;
          if(nextIndex < 0) nextIndex = slides.length - 1;
          if(nextIndex >= slides.length) nextIndex = 0;
          goTo(nextIndex);
        }, 8000);
      } else {
        if(prevBtn) prevBtn.style.display = 'none';
        if(nextBtn) nextBtn.style.display = 'none';
        dotsContainer.style.display = 'none';
      }
    }

    // Click global para abrir lightbox
    document.addEventListener('click', (e)=>{
      if(e.target && e.target.matches('.carousel-img-box img')){
        const img = e.target;
        const caption = img.getAttribute('data-caption') || img.alt || '';
        openLightbox(img.src, caption);
      }
    });

    // Ambos carruseles avanzan igual
    renderEventos('Facebook', eventosFacebook, 'carousel-facebook', 'dots-facebook', 1);
    renderEventos('Instagram', eventosInstagram, 'carousel-instagram', 'dots-instagram', 1);
  </script>
</body>
</html>
